# 词根聚类需求挖掘系统 - 前端完整测试计划

## 测试目标

对整个词根聚类需求挖掘系统的前端UI进行全流程功能测试，验证各阶段功能的正确性，评估用户体验，并提出改进建议。

## 测试环境

- 操作系统: Windows
- 浏览器: Chrome/Edge
- 前端框架: Streamlit
- 数据库: MySQL/SQLite
- 测试数据: 125,315条英文短语

## 测试范围

### Phase 0: 词根扩展和分词功能

**测试目标**: 验证词根管理、AI翻译、分词结果持久化功能

**测试用例**:
1. **词根列表查看**
   - 验证词根列表正确加载
   - 验证词根分类统计准确
   - 验证词根排序功能

2. **词根新增**
   - 测试手动添加新词根
   - 验证词根字段填写（分类、定义、场景等）
   - 检查重复词根的防护机制

3. **AI翻译功能**
   - 测试DeepSeek API翻译
   - 验证翻译结果准确性
   - 检查翻译失败时的错误处理

4. **分词结果查看**
   - 验证分词数据正确加载
   - 检查词性标注准确性
   - 验证高频词/短语统计

**预期结果**:
- 词根管理界面流畅，数据准确
- AI翻译成功率>90%
- 分词结果与数据库一致

**评价指标**:
- 功能完整性: ★★★★★
- 用户体验: ★★★★☆
- 性能表现: ★★★★☆

---

### Phase 1: 数据导入功能

**测试目标**: 验证关键词数据导入的完整性和准确性

**测试用例**:
1. **数据源选择**
   - 测试三种数据源（Semrush、Dropdown、Related Search）
   - 验证文件格式检查
   - 测试文件路径验证

2. **数据导入执行**
   - 小批量测试（1000条）
   - 大批量测试（全量125k条）
   - 验证进度条显示

3. **导入数据验证**
   - 检查数据库记录数
   - 验证字段完整性（phrase, volume, frequency等）
   - 检查重复数据处理

4. **导入统计报告**
   - 验证导入成功/失败数量
   - 检查数据来源统计
   - 验证词根关联统计

**预期结果**:
- 导入成功率>99%
- 数据完整性100%
- 导入时间<5分钟（全量）

**评价指标**:
- 功能完整性: ★★★★★
- 数据准确性: ★★★★★
- 性能表现: ★★★★☆

---

### Phase 2: Louvain聚类功能

**测试目标**: 验证新实现的Louvain聚类算法效果

**测试用例**:
1. **聚类参数设置**
   - 测试k_neighbors参数（20-40范围）
   - 测试similarity_threshold（0.4-0.6范围）
   - 测试resolution参数（0.6-1.0范围）

2. **聚类执行**
   - 小规模测试（1000条短语）
   - 中等规模测试（10k条短语）
   - 全量测试（125k条短语）

3. **聚类质量评估**
   - 验证聚类数量（目标60-100）
   - 检查模块度值（目标>0.6）
   - 验证噪音率（目标<5%）
   - 检查聚类大小分布

4. **聚类结果查看**
   - 验证聚类列表展示
   - 测试聚类详情查看
   - 检查示例短语的代表性

5. **DeepSeek语义标注**
   - 运行标注功能
   - 验证语义标签准确性
   - 检查需求类型分类合理性
   - 验证置信度评分

**预期结果**:
- 聚类数量: 60-100个
- 模块度: >0.8
- 噪音率: <1%
- 语义一致性: 优秀（无K-Means的混合问题）
- LLM标注成功率: >95%

**评价指标**:
- 功能完整性: ★★★★★
- 聚类质量: ★★★★★
- 性能表现: ★★★★☆
- LLM集成: ★★★★★

---

### Phase 3: 意图分析和人工筛选

**测试目标**: 验证意图分类和聚类筛选功能

**测试用例**:
1. **意图分析执行**
   - 运行意图分类算法
   - 验证意图类型识别
   - 检查置信度计算

2. **聚类筛选界面**
   - 测试按大小筛选
   - 测试按质量分数筛选
   - 测试按意图类型筛选

3. **人工评分功能**
   - 测试1-5分评分系统
   - 验证评分持久化
   - 检查批量操作

**预期结果**:
- 意图分类准确率>85%
- 筛选功能响应快速
- 评分保存无误

**评价指标**:
- 功能完整性: ★★★★☆
- 用户体验: ★★★★☆
- 分类准确性: ★★★★☆

---

### Phase 4: 需求生成功能

**测试目标**: 验证基于聚类生成需求卡片的功能

**测试用例**:
1. **需求卡片生成**
   - 选择高质量聚类
   - 测试AI生成需求描述
   - 验证需求字段完整性

2. **需求编辑**
   - 测试需求标题编辑
   - 测试需求描述编辑
   - 测试需求分类修改

3. **需求验证**
   - 测试需求状态管理
   - 验证商业价值评估
   - 检查需求关联数据

**预期结果**:
- 需求生成成功率>90%
- 需求质量符合标准
- 编辑功能流畅

**评价指标**:
- 功能完整性: ★★★★☆
- AI生成质量: ★★★★☆
- 用户体验: ★★★★☆

---

### Phase 5: Token提取功能

**测试目标**: 验证意图词、动作词、对象词的提取功能

**测试用例**:
1. **Token自动提取**
   - 运行Token提取算法
   - 验证词性识别准确性
   - 检查Token分类正确性

2. **Token验证**
   - 测试人工验证标记
   - 测试Token编辑功能
   - 验证Token统计

3. **Token词库导出**
   - 测试导出功能
   - 验证导出格式
   - 检查数据完整性

**预期结果**:
- Token提取准确率>80%
- Token分类合理
- 导出功能正常

**评价指标**:
- 功能完整性: ★★★★☆
- 提取准确性: ★★★★☆
- 用户体验: ★★★★☆

---

## 测试执行计划

### 时间安排
1. Phase 0测试: 30分钟
2. Phase 1测试: 30分钟
3. Phase 2测试: 60分钟（重点）
4. Phase 3测试: 30分钟
5. Phase 4测试: 30分钟
6. Phase 5测试: 30分钟
7. 报告撰写: 30分钟

**总计**: 约4小时

### 测试方法
- 手动测试为主
- 功能验证 + 数据验证
- UI截图记录
- 性能观察记录

### 测试数据
- 现有125k短语数据库
- Louvain聚类结果（68个聚类）
- 测试用小批量数据（1000条）

---

## 评价标准

### 功能评分
- ★★★★★: 功能完整，无问题
- ★★★★☆: 功能完整，有小瑕疵
- ★★★☆☆: 功能基本可用，有明显问题
- ★★☆☆☆: 功能不完整或有严重问题
- ★☆☆☆☆: 功能不可用

### 性能评分
- ★★★★★: 响应快速（<1秒）
- ★★★★☆: 响应流畅（1-3秒）
- ★★★☆☆: 响应可接受（3-10秒）
- ★★☆☆☆: 响应较慢（10-30秒）
- ★☆☆☆☆: 响应缓慢（>30秒）

### 用户体验评分
- ★★★★★: 直观易用，体验优秀
- ★★★★☆: 易用，体验良好
- ★★★☆☆: 基本可用，有改进空间
- ★★☆☆☆: 不够直观，需大幅改进
- ★☆☆☆☆: 难以使用

---

## 测试报告模板

### 各阶段测试结果
- 功能测试结果
- 数据验证结果
- 性能测试结果
- UI/UX评价
- 发现的问题列表
- 改进建议

### 整体评估
- 系统完整性
- 核心功能可用性
- 性能瓶颈分析
- 用户体验评价

### 优先级改进建议
1. 高优先级（影响核心功能）
2. 中优先级（影响用户体验）
3. 低优先级（优化建议）

---

## 附录

### 关键指标参考
- Louvain聚类目标: 60-100个聚类，模块度>0.6
- 数据导入速度: <5分钟（125k条）
- 聚类速度: <10分钟（125k条）
- LLM标注成本: <$0.02（68个聚类）

### 测试环境要求
- 数据库已初始化
- Streamlit服务运行中
- DeepSeek API Key配置正确
- 所有依赖已安装
