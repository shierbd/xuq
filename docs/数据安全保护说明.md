# 数据安全保护说明

## 🔒 数据文件保护策略

本项目已配置**严格的数据文件保护**，确保所有关键词数据不会被推送到GitHub。

## ✅ 已排除的数据类型

### 1. 所有CSV和Excel文件
```gitignore
*.csv
*.xlsx
*.xls
```

### 2. 所有数据目录
```gitignore
data/raw/           # 原始数据
data/processed/     # 处理后的数据
data/results/       # 分析结果
data/output/        # 输出文件
data/baseline/      # 基准数据
data/external/      # 外部数据
原始词/             # 原始词目录
```

### 3. 数据库文件
```gitignore
*.db
*.sqlite
*.sqlite3
```

## 🚨 已清理的历史追踪

以下文件已从Git缓存中移除（不再追踪）：
- ✅ `data/processed/stageA_clusters.csv`
- ✅ `data/raw/merged_keywords_all.csv`
- ✅ `data/results/cluster_summary_A3.csv`

## 📋 推送前检查清单

在每次 `git push` 之前，请确认：

```bash
# 1. 检查暂存区，确保没有数据文件
git status

# 2. 查看将要提交的文件列表
git diff --cached --name-only

# 3. 如果发现数据文件，立即移除
git reset HEAD path/to/data/file.csv
```

## ⚠️ 重要提醒

### 什么会被推送到GitHub：
- ✅ 代码文件 (`.py`, `.sh`, `.js`)
- ✅ 配置文件 (`.gitignore`, `.env.example`)
- ✅ 文档文件 (`.md`, `.txt`)
- ✅ 项目结构文件 (`README.md`, `requirements.txt`)

### 什么绝对不会被推送：
- ❌ **所有 `.csv` 文件**（包含关键词数据）
- ❌ **所有 `.xlsx` 文件**（Excel数据）
- ❌ **`data/` 目录下的所有文件**
- ❌ **`原始词/` 目录下的所有文件**
- ❌ **`.env` 文件**（包含API密钥）
- ❌ **数据库文件** (`.db`, `.sqlite`)

## 🔍 验证保护有效性

运行以下命令验证数据文件已被排除：

```bash
# 应该看不到任何 .csv 或数据目录
git status

# 检查 .gitignore 是否正确配置
cat .gitignore | grep -E "(csv|data|原始词)"
```

## 📖 相关文档

- `.gitignore` - 完整的排除规则
- `data/README.md` - 数据目录说明
- `docs/GitHub配置说明.md` - Git使用指南

## 🆘 如果不小心推送了数据

如果发现数据文件已经被推送到GitHub：

1. **立即删除远程仓库的敏感文件**：
```bash
git rm --cached path/to/sensitive/file.csv
git commit -m "Remove sensitive data"
git push
```

2. **清理Git历史**（如果数据在历史记录中）：
```bash
# 使用 git filter-branch 或 BFG Repo-Cleaner
# 建议联系GitHub Support删除包含敏感数据的commit
```

3. **重新生成API密钥和访问令牌**（如果泄露）

## ✨ 安全承诺

通过以上配置，本项目确保：
1. **零数据泄露风险** - 所有数据文件本地存储
2. **自动保护** - .gitignore 自动排除数据文件
3. **多层防护** - 目录级 + 文件类型级双重保护
4. **清晰可见** - 推送前可轻松验证

---

**最后更新**: 2024-12-19
**保护级别**: 🔒 最高级
