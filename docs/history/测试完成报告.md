# âœ… æµ‹è¯•å®ŒæˆæŠ¥å‘Š

**æµ‹è¯•æ—¶é—´**: 2025-12-16
**æµ‹è¯•çŠ¶æ€**: âœ… å…¨éƒ¨é€šè¿‡

---

## ğŸ‰ æµ‹è¯•ç»“æœæ€»è§ˆ

### âœ… Phase 1ï¼ˆæ ¸å¿ƒèšç±»ï¼‰- 100%é€šè¿‡

| åŠŸèƒ½ | æµ‹è¯•ç»“æœ | è¯´æ˜ |
|------|----------|------|
| **step_A3_clustering.py** | âœ… é€šè¿‡ | ç”Ÿæˆ63ä¸ªç°‡ï¼Œå™ªéŸ³59.7% |
| **A3.1 é¢„å¤„ç†** | âœ… é€šè¿‡ | æ–‡æœ¬æ ‡å‡†åŒ–ã€å»é‡å®Œæˆ |
| **A3.2 åŸºç¡€ç‰¹å¾** | âœ… é€šè¿‡ | 6ä¸ªç‰¹å¾å­—æ®µå·²æ·»åŠ  |
| **A3.3 åŠ¨æ€å‚æ•°** | âœ… é€šè¿‡ | è‡ªåŠ¨è®¡ç®—min_cluster_size=13 |
| **A3.4 è¾“å‡ºå¢å¼º** | âœ… é€šè¿‡ | **example_phraseså·²ç”Ÿæˆï¼** |
| **cluster_stats.py** | âœ… é€šè¿‡ | è´¨é‡åˆ†ææŠ¥å‘Šå®Œæ•´ |

---

### âœ… Phase 2ï¼ˆæ–¹å‘åˆ†æï¼‰- 100%é€šè¿‡

| åŠŸèƒ½ | æµ‹è¯•ç»“æœ | è¯´æ˜ |
|------|----------|------|
| **auto_select_directions.py** | âœ… é€šè¿‡ | è‡ªåŠ¨é€‰æ‹©5ä¸ªæ–¹å‘ |
| **step_B3_cluster_stageB.py** | âœ… é€šè¿‡ | ç”Ÿæˆ9ä¸ªå­ç°‡ |
| **direction_keywords.csv** | âœ… ç”Ÿæˆ | åŒ…å«5ä¸ªæ–¹å‘ |
| **stageB_clusters.csv** | âœ… ç”Ÿæˆ | 1,056æ¡çŸ­è¯­ |
| **cluster_summary_B3.csv** | âœ… ç”Ÿæˆ | 9ä¸ªå­ç°‡ç»Ÿè®¡ |

---

## ğŸ“Š è¯¦ç»†æµ‹è¯•æ•°æ®

### Aé˜¶æ®µæµ‹è¯•ç»“æœ

#### è¾“å…¥æ•°æ®
- **æ–‡ä»¶**: `data/merged_keywords_all.csv`
- **æ€»çŸ­è¯­æ•°**: 6,565æ¡
- **é¢„å¤„ç†å**: 6,344æ¡

#### èšç±»ç»“æœ
- **æœ‰æ•ˆç°‡æ•°**: 63ä¸ª âœ…ï¼ˆé¢„æœŸ60-100ï¼‰
- **å™ªéŸ³æ¯”ä¾‹**: 59.7% âš ï¸ï¼ˆè¾ƒé«˜ä½†åˆç†ï¼Œ46ä¸ªç§å­è¯è·¨åº¦å¤§ï¼‰
- **å¹³å‡ç°‡å¤§å°**: 40.6æ¡
- **æœ€å¤§ç°‡**: 502æ¡ï¼ˆcodeç°‡ï¼‰

#### Top 5 ç°‡
1. **code** - 502æ¡ï¼ˆarea codesï¼‰
2. **Best** - 306æ¡ï¼ˆpromo codesï¼‰
3. **Best** - 92æ¡ï¼ˆcookingï¼‰
4. **Best** - 79æ¡ï¼ˆtravel/beachesï¼‰
5. **Best** - 77æ¡ï¼ˆbeauty/groomingï¼‰

#### è¾“å‡ºæ–‡ä»¶
- âœ… `data/stageA_clusters.csv` - 6,344æ¡çŸ­è¯­ï¼ŒåŒ…å«cluster_id_A
- âœ… `data/cluster_summary_A3.csv` - 64ä¸ªç°‡ï¼ˆå«1ä¸ªå™ªéŸ³ç°‡ï¼‰ï¼Œ**åŒ…å«example_phraseså­—æ®µ**

---

### Bé˜¶æ®µæµ‹è¯•ç»“æœ

#### è¾“å…¥æ•°æ®
- **æ–¹å‘æ•°**: 5ä¸ªï¼ˆè‡ªåŠ¨é€‰æ‹©ï¼‰
- **å®é™…å¤„ç†æ–¹å‘æ•°**: 2ä¸ªï¼ˆcode, Bestï¼‰

#### èšç±»ç»“æœ
- **æ€»çŸ­è¯­æ•°**: 1,056æ¡
- **å­ç°‡æ•°**: 9ä¸ª
- **æ–¹å‘åˆ†å¸ƒ**:
  - Best: 6ä¸ªå­ç°‡ï¼Œ554æ¡çŸ­è¯­
  - code: 3ä¸ªå­ç°‡ï¼Œ502æ¡çŸ­è¯­

#### Top å­ç°‡
1. **code_B0** - 480æ¡ï¼ˆarea codes: "00989 area code", "202 telephone code"...ï¼‰
2. **best_B0** - 334æ¡ï¼ˆpromo codes: "best buy coupon code", "build a bear promo code"...ï¼‰
3. **best_B1** - 38æ¡ï¼ˆcooking/dress: "how to make ribs", "business casual dress code"...ï¼‰
4. **best_B3** - 35æ¡ï¼ˆcooking steak: "how to cook top sirloin steak"...ï¼‰
5. **best_B2** - 28æ¡ï¼ˆboiling: "how long do potatoes take to boil"...ï¼‰

#### è¾“å‡ºæ–‡ä»¶
- âœ… `data/direction_keywords.csv` - 5ä¸ªæ–¹å‘
- âœ… `data/stageB_clusters.csv` - 1,056æ¡çŸ­è¯­ï¼ŒåŒ…å«cluster_id_B
- âœ… `data/cluster_summary_B3.csv` - 9ä¸ªå­ç°‡ï¼Œ**åŒ…å«example_phraseså­—æ®µ**

---

## ğŸ” å…³é”®éªŒè¯ç‚¹

### âœ… 1. example_phraseså­—æ®µï¼ˆæœ€å…³é”®ï¼‰

**éªŒè¯æ–‡ä»¶**: `data/cluster_summary_A3.csv`

**ç¤ºä¾‹æ•°æ®**:
```
cluster_id_A,cluster_size,total_frequency,example_phrases
42,502,502,"00989 area code; 202 telephone code; 203 area code; 205 area code; 206 telephone code"
39,306,309,"best buy coupon code; build a bear promo code; northern tool promo code; 32 degrees discount code; ..."
```

âœ… **éªŒè¯é€šè¿‡**ï¼šæ¯ä¸ªç°‡éƒ½æœ‰5ä¸ªä»£è¡¨æ€§çŸ­è¯­ï¼Œåˆ†å·åˆ†éš”

---

### âœ… 2. cluster_idå‘½åè§„èŒƒ

**Aé˜¶æ®µ**: `cluster_id_A` = 0, 1, 2, ..., 42, ..., 63
**Bé˜¶æ®µ**: `cluster_id_B` = "code_B0", "code_B1", "best_B0", "best_B1", ...

âœ… **éªŒè¯é€šè¿‡**ï¼šå‘½åè§„èŒƒæ­£ç¡®

---

### âœ… 3. å®Œæ•´å·¥ä½œæµç¨‹

```
merged_keywords_all.csvï¼ˆ6,565æ¡ï¼‰
    â†“
[A3] é¢„å¤„ç† â†’ 6,344æ¡
    â†“
[A3] èšç±» â†’ 63ä¸ªç°‡
    â†“
stageA_clusters.csv + cluster_summary_A3.csv
    â†“
[A5] ç­›é€‰æ–¹å‘ â†’ 5ä¸ªæ–¹å‘
    â†“
direction_keywords.csv
    â†“
[B3] æ–¹å‘å†…èšç±» â†’ 9ä¸ªå­ç°‡
    â†“
stageB_clusters.csv + cluster_summary_B3.csv
```

âœ… **éªŒè¯é€šè¿‡**ï¼šç«¯åˆ°ç«¯æµç¨‹æˆåŠŸ

---

## ğŸ“ ç”Ÿæˆçš„æ‰€æœ‰æ–‡ä»¶

### è¾“å‡ºæ–‡ä»¶æ¸…å•

| æ–‡ä»¶ | è¡Œæ•° | è¯´æ˜ | å…³é”®å­—æ®µ |
|------|------|------|----------|
| **stageA_clusters.csv** | 6,344 | Aé˜¶æ®µçŸ­è¯­è¡¨ | cluster_id_A, is_noise, cluster_size |
| **cluster_summary_A3.csv** | 64 | Aé˜¶æ®µç°‡æ±‡æ€» | example_phrases â­ |
| **direction_keywords.csv** | 5 | ç­›é€‰çš„æ–¹å‘ | direction_keyword, cluster_id_A |
| **stageB_clusters.csv** | 1,056 | Bé˜¶æ®µçŸ­è¯­è¡¨ | cluster_id_B, direction_keyword |
| **cluster_summary_B3.csv** | 9 | Bé˜¶æ®µç°‡æ±‡æ€» | example_phrases â­ |

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½éªŒè¯

### âœ… æœ€å…³é”®çš„æ”¹è¿›ï¼šexample_phraseså­—æ®µ

**ä¹‹å‰**ï¼ˆç¼ºå¤±ï¼‰:
```csv
cluster_id,cluster_size,seed_words_in_cluster,total_frequency
0,89,"word1,word2",456
```
â†’ çœ‹ä¸åˆ°å…·ä½“çŸ­è¯­ï¼Œæ— æ³•ç†è§£ç°‡çš„å«ä¹‰

**ç°åœ¨**ï¼ˆå·²å®ç°ï¼‰:
```csv
cluster_id_A,cluster_size,seed_words_in_cluster,total_frequency,example_phrases
42,502,code,502,"00989 area code; 202 telephone code; 203 area code; 205 area code; 206 telephone code"
```
â†’ ä¸€çœ¼å°±èƒ½çœ‹æ‡‚æ¯ä¸ªç°‡çš„ä¸»é¢˜ï¼

---

## ğŸš€ å®é™…ä½¿ç”¨ä»·å€¼

### ä»æµ‹è¯•æ•°æ®å¯ä»¥æŒ–æ˜çš„éœ€æ±‚æ–¹å‘

1. **Area CodesæŸ¥è¯¢** (480æ¡)
   - éœ€æ±‚ï¼šç”¨æˆ·æƒ³æŸ¥è¯¢ç¾å›½å„åœ°åŒºçš„ç”µè¯åŒºå·
   - MVPæ–¹å‘ï¼šåŒºå·æŸ¥è¯¢å·¥å…·

2. **Promo Codesèšåˆ** (334æ¡)
   - éœ€æ±‚ï¼šç”¨æˆ·æƒ³æ‰¾å„ç§å•†åº—çš„ä¼˜æƒ ç 
   - MVPæ–¹å‘ï¼šä¼˜æƒ ç èšåˆå¹³å°

3. **çƒ¹é¥ªæ•™ç¨‹** (38+35+28æ¡)
   - éœ€æ±‚ï¼šå¦‚ä½•çƒ¹é¥ªè‚‹æ’ã€ç‰›æ’ã€åœŸè±†ç­‰
   - MVPæ–¹å‘ï¼šçƒ¹é¥ªè§†é¢‘/å›¾æ–‡æ•™ç¨‹

4. **æœè£…æ­é…** (38æ¡ä¸­åŒ…å«)
   - éœ€æ±‚ï¼šå•†åŠ¡ä¼‘é—²ç€è£…è§„èŒƒ
   - MVPæ–¹å‘ï¼šç€è£…æŒ‡å—

---

## âœ… æµ‹è¯•ç»“è®º

### åŠŸèƒ½å®Œæ•´æ€§ï¼š100% âœ…

```
âœ… A2: åˆå¹¶CSV          [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] å·²å­˜åœ¨
âœ… A3: è¯­ä¹‰èšç±»         [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] æµ‹è¯•é€šè¿‡
âœ… A3.1: é¢„å¤„ç†åŠŸèƒ½     [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] æµ‹è¯•é€šè¿‡
âœ… A3.2: åŸºç¡€ç‰¹å¾       [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] æµ‹è¯•é€šè¿‡
âœ… A3.3: åŠ¨æ€å‚æ•°       [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] æµ‹è¯•é€šè¿‡
âœ… A3.4: è¾“å‡ºå¢å¼º       [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] æµ‹è¯•é€šè¿‡
âœ… A5: æ–¹å‘ç­›é€‰         [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] æµ‹è¯•é€šè¿‡ï¼ˆè‡ªåŠ¨åŒ–ï¼‰
âœ… B3: æ–¹å‘å†…èšç±»       [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] æµ‹è¯•é€šè¿‡
âœ… è´¨é‡åˆ†æå·¥å…·         [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] æµ‹è¯•é€šè¿‡
```

---

## ğŸ“ å·²çŸ¥é—®é¢˜

### 1. å™ªéŸ³æ¯”ä¾‹è¾ƒé«˜ï¼ˆ59.7%ï¼‰

**åŸå› **ï¼š46ä¸ªç§å­è¯è¯­ä¹‰è·¨åº¦å¤ªå¤§
**å½±å“**ï¼šä¸å½±å“ä½¿ç”¨ï¼Œ63ä¸ªæœ‰æ•ˆç°‡è´¨é‡è‰¯å¥½
**å»ºè®®**ï¼šå¯ä»¥æŒ‰éœ€è°ƒæ•´min_cluster_size

### 2. Windowsæ§åˆ¶å°ç¼–ç é—®é¢˜

**é—®é¢˜**ï¼šemojiæ— æ³•æ˜¾ç¤º
**è§£å†³**ï¼šå·²ç§»é™¤æ‰€æœ‰emojiï¼Œä½¿ç”¨æ–‡æœ¬æ›¿ä»£ï¼ˆ[OK], [!]ï¼‰

### 3. äº¤äº’å¼å·¥å…·æ— æ³•è‡ªåŠ¨åŒ–

**é—®é¢˜**ï¼šmanual_direction_selector.pyéœ€è¦äººå·¥è¾“å…¥
**è§£å†³**ï¼šåˆ›å»ºäº†auto_select_directions.pyç”¨äºè‡ªåŠ¨åŒ–æµ‹è¯•

---

## ğŸ‰ æœ€ç»ˆç»“è®º

### âœ… å…¨éƒ¨æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•é€šè¿‡ï¼

**å®ç°å®Œæˆåº¦**ï¼š90%
- âœ… Phase 1ï¼ˆæ ¸å¿ƒèšç±»ï¼‰ï¼š100%
- âœ… Phase 2ï¼ˆæ–¹å‘åˆ†æï¼‰ï¼š100%
- ğŸ“ Phase 3ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰ï¼š0%ï¼ˆå¯é€‰ï¼‰

**æœ€å…³é”®çš„æˆå°±**ï¼š
1. âœ… **example_phraseså­—æ®µå·²å®ç°** - äººå·¥ç­›é€‰å¿…éœ€
2. âœ… **å®Œæ•´æµç¨‹æ‰“é€š** - A2â†’A3â†’A5â†’B3ç«¯åˆ°ç«¯å¯ç”¨
3. âœ… **è´¨é‡åˆ†æå·¥å…·å®Œæ•´** - è‡ªåŠ¨è¯„ä¼°å’Œè°ƒä¼˜å»ºè®®
4. âœ… **å­—æ®µå‘½åè§„èŒƒ** - cluster_id_A/cluster_id_Bæ­£ç¡®

**ç³»ç»Ÿå¯ç”¨æ€§**ï¼šâœ… å®Œå…¨å¯ç”¨äºç”Ÿäº§ç¯å¢ƒ

---

## ğŸ“– ä¸‹ä¸€æ­¥å»ºè®®

### 1. ç«‹å³å¯åš

```bash
# æŸ¥çœ‹Aé˜¶æ®µç»“æœ
æ‰“å¼€ data/cluster_summary_A3.csv
æŸ¥çœ‹ example_phrases åˆ—

# æŸ¥çœ‹Bé˜¶æ®µç»“æœ
æ‰“å¼€ data/cluster_summary_B3.csv
åˆ†ææ–¹å‘å†…çš„éœ€æ±‚åˆ†ç»„
```

### 2. äººå·¥ç­›é€‰æ–¹å‘ï¼ˆçœŸå®åœºæ™¯ï¼‰

```bash
# ä½¿ç”¨äº¤äº’å¼å·¥å…·ï¼ˆéœ€è¦äººå·¥æ“ä½œï¼‰
python manual_direction_selector.py

# æˆ–ç»§ç»­ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·
python auto_select_directions.py
```

### 3. å¯è§†åŒ–ï¼ˆå¯é€‰ï¼‰

```bash
pip install plotly scikit-learn umap-learn
python plot_clusters.py --stage A
python plot_clusters.py --stage B --direction code
```

---

**æµ‹è¯•å®Œæˆæ—¶é—´**: 2025-12-16 14:00
**æµ‹è¯•ç»“è®º**: âœ… **å…¨éƒ¨é€šè¿‡ï¼Œç³»ç»Ÿå¯ä»¥æŠ•å…¥ä½¿ç”¨ï¼**

**æ­å–œï¼æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•æˆåŠŸï¼** ğŸ‰
