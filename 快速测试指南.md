# ğŸ§ª å¿«é€Ÿæµ‹è¯•æŒ‡å—

## ç«‹å³å¼€å§‹æµ‹è¯•ï¼ˆ5æ­¥ï¼‰

### Step 1: è¿è¡ŒAé˜¶æ®µèšç±»ï¼ˆ5-20åˆ†é’Ÿï¼‰

```bash
cd "D:\xiangmu\è¯æ ¹èšç±»éœ€æ±‚æŒ–æ˜\scripts"
python step_A3_clustering.py
```

**é¢„æœŸè¾“å‡º**ï¼š
- âœ… çœ‹åˆ°"A3.1 é¢„å¤„ç†..."ã€"A3.2 æ·»åŠ åŸºç¡€ç‰¹å¾..."ç­‰æ­¥éª¤
- âœ… ç”Ÿæˆ 60-100 ä¸ªç°‡
- âœ… å™ªéŸ³æ¯”ä¾‹ 15-25%
- âœ… è¾“å‡ºæ–‡ä»¶ï¼š`data/stageA_clusters.csv`, `data/cluster_summary_A3.csv`

**æ£€æŸ¥ç‚¹**ï¼šæ‰“å¼€`data/cluster_summary_A3.csv`ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰`example_phrases`åˆ— â† æœ€å…³é”®ï¼

---

### Step 2: æŸ¥çœ‹è´¨é‡æŠ¥å‘Šï¼ˆ<1åˆ†é’Ÿï¼‰

```bash
python cluster_stats.py
```

**é¢„æœŸè¾“å‡º**ï¼š
- âœ… ç°‡æ•°é‡æ˜¯å¦åˆç†ï¼ˆ60-100ï¼‰
- âœ… å™ªéŸ³æ¯”ä¾‹æ˜¯å¦åˆç†ï¼ˆ<25%ï¼‰
- âœ… Top 10 æœ€å¤§çš„ç°‡
- âœ… å‚æ•°è°ƒä¼˜å»ºè®®

---

### Step 3: äº¤äº’å¼ç­›é€‰æ–¹å‘ï¼ˆ10-30åˆ†é’Ÿï¼‰

```bash
python manual_direction_selector.py
```

**æ“ä½œæµç¨‹**ï¼š
1. ç³»ç»Ÿé€ä¸ªæ˜¾ç¤ºç°‡ä¿¡æ¯ï¼ˆåŒ…å«example_phrasesï¼‰
2. ä½ é€‰æ‹©ï¼š**K**ï¼ˆä¿ç•™ï¼‰/ **S**ï¼ˆè·³è¿‡ï¼‰/ **Q**ï¼ˆç»“æŸï¼‰
3. å¯¹äºä¿ç•™çš„ç°‡ï¼Œè¾“å…¥`direction_keyword`ï¼ˆå¦‚"productivity"ï¼‰
4. å»ºè®®ç­›é€‰ 5-10 ä¸ªæ–¹å‘

**é¢„æœŸè¾“å‡º**ï¼š
- âœ… ç”Ÿæˆ `data/direction_keywords.csv`
- âœ… åŒ…å«ä½ é€‰æ‹©çš„5-10ä¸ªæ–¹å‘

---

### Step 4: æ–¹å‘å†…èšç±»ï¼ˆ5-15åˆ†é’Ÿï¼‰

```bash
python step_B3_cluster_stageB.py
```

**é¢„æœŸè¾“å‡º**ï¼š
- âœ… å¯¹æ¯ä¸ªæ–¹å‘è¿›è¡ŒäºŒæ¬¡èšç±»
- âœ… æ˜¾ç¤ºæ¯ä¸ªæ–¹å‘çš„å­ç°‡æ•°é‡
- âœ… è¾“å‡ºæ–‡ä»¶ï¼š`data/stageB_clusters.csv`, `data/cluster_summary_B3.csv`

**æ£€æŸ¥ç‚¹**ï¼šæ‰“å¼€`data/cluster_summary_B3.csv`ï¼ŒæŸ¥çœ‹æ–¹å‘å†…çš„éœ€æ±‚åˆ†ç»„

---

### Step 5: å¯è§†åŒ–ï¼ˆ2-5åˆ†é’Ÿï¼Œå¯é€‰ï¼‰

```bash
# å…ˆå®‰è£…ä¾èµ–ï¼ˆå¦‚æœè¿˜æ²¡è£…ï¼‰
pip install plotly scikit-learn umap-learn

# å¯è§†åŒ–Aé˜¶æ®µ
python plot_clusters.py --stage A

# å¯è§†åŒ–Bé˜¶æ®µï¼ˆæŒ‡å®šæ–¹å‘ï¼‰
python plot_clusters.py --stage B --direction productivity
```

**é¢„æœŸè¾“å‡º**ï¼š
- âœ… ç”Ÿæˆ `output/clusters_visualization_A.html`
- âœ… ç”¨æµè§ˆå™¨æ‰“å¼€ï¼ŒæŸ¥çœ‹äº¤äº’å¼å›¾è¡¨

---

## ğŸ” å…³é”®éªŒè¯ç‚¹

### 1. example_phraseså­—æ®µï¼ˆæœ€é‡è¦ï¼ï¼‰

```bash
æ‰“å¼€ï¼šdata/cluster_summary_A3.csv
æŸ¥æ‰¾ï¼šexample_phrases åˆ—
æœŸæœ›ï¼šæ¯ä¸ªç°‡æœ‰5ä¸ªä»£è¡¨æ€§çŸ­è¯­ï¼Œç”¨åˆ†å·åˆ†éš”
ç¤ºä¾‹ï¼šhow to improve productivity; best productivity tools; productivity tips for students; ...
```

**å¦‚æœæ²¡æœ‰è¿™ä¸ªå­—æ®µ** â†’ âŒ é‡æ–°è¿è¡Œstep_A3_clustering.py

---

### 2. ç°‡IDå‘½åè§„èŒƒ

- **Aé˜¶æ®µ**ï¼š`cluster_id_A` = 0, 1, 2, ...
- **Bé˜¶æ®µ**ï¼š`cluster_id_B` = "productivity_B0", "productivity_B1", ...

```bash
æ‰“å¼€ï¼šdata/stageA_clusters.csv
æŸ¥æ‰¾ï¼šcluster_id_A åˆ—ï¼ˆä¸æ˜¯cluster_idï¼‰
```

---

### 3. å­—æ®µéªŒè¯

```bash
python validation.py
```

**é¢„æœŸè¾“å‡º**ï¼š
```
âœ… stageA_clusters.csv å­—æ®µéªŒè¯é€šè¿‡
âœ… cluster_summary_A3.csv å­—æ®µéªŒè¯é€šè¿‡
â­ï¸ è·³è¿‡: direction_keywords.csvï¼ˆæ–‡ä»¶ä¸å­˜åœ¨ï¼‰â† è¿è¡ŒStep 3åä¼šæœ‰
...
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: æ‰¾ä¸åˆ°merged_keywords_all.csv

**è§£å†³**ï¼š
```bash
python step_A2_merge_csv.py
```

---

### Q2: æŠ¥é”™"No module named 'sentence_transformers'"

**è§£å†³**ï¼š
```bash
pip install sentence-transformers hdbscan
```

---

### Q3: èšç±»ç»“æœç°‡å¤ªå¤šï¼ˆ>100ä¸ªï¼‰

**è§£å†³**ï¼š
```python
# ä¿®æ”¹ config.py
A3_CONFIG = {
    "min_cluster_size": 20,  # ä»15æ”¹ä¸º20
    "use_dynamic_params": False,  # ç¦ç”¨åŠ¨æ€å‚æ•°
}
```

ç„¶åé‡æ–°è¿è¡Œï¼š
```bash
python step_A3_clustering.py
```

---

### Q4: cluster_summary_A3.csvæ²¡æœ‰example_phrases

**åŸå› **ï¼šå¯èƒ½è¿è¡Œçš„æ˜¯æ—§ç‰ˆæœ¬çš„step_A3_clustering.py

**è§£å†³**ï¼š
```bash
# ç¡®è®¤æ–‡ä»¶æ˜¯æœ€æ–°ç‰ˆæœ¬
python step_A3_clustering.py
# åº”è¯¥çœ‹åˆ°"A3.4 è¾“å‡ºå¢å¼º..."çš„æ—¥å¿—
```

---

## ğŸ“Š é¢„æœŸç»“æœç¤ºä¾‹

### cluster_summary_A3.csvï¼ˆç¤ºä¾‹ï¼‰

| cluster_id_A | cluster_size | total_frequency | example_phrases |
|--------------|--------------|-----------------|-----------------|
| 0 | 89 | 456 | how to improve productivity; best productivity tools; productivity tips for students; time management techniques; focus and productivity |
| 1 | 67 | 342 | learn python programming; python for beginners; python tutorial; best python courses; python coding practice |
| 2 | 45 | 289 | healthy eating habits; nutrition tips; meal planning ideas; balanced diet guide; healthy recipes |

â†’ **çœ‹åˆ°example_phrasesåˆ—**ï¼Œä¸€çœ¼å°±æ‡‚æ¯ä¸ªç°‡çš„ä¸»é¢˜ï¼

---

### direction_keywords.csvï¼ˆç¤ºä¾‹ï¼‰

| direction_keyword | cluster_id_A | cluster_size | total_frequency |
|-------------------|--------------|--------------|-----------------|
| productivity | 0 | 89 | 456 |
| python_learning | 1 | 67 | 342 |
| healthy_eating | 2 | 45 | 289 |
| ... | ... | ... | ... |

â†’ ä½ ç­›é€‰å‡ºçš„5-10ä¸ªæ–¹å‘

---

### cluster_summary_B3.csvï¼ˆç¤ºä¾‹ï¼‰

| direction_keyword | cluster_id_B | cluster_size | example_phrases |
|-------------------|--------------|--------------|-----------------|
| productivity | productivity_B0 | 23 | time management apps; best time tracking tools; pomodoro technique |
| productivity | productivity_B1 | 19 | focus and concentration tips; eliminate distractions; deep work strategies |
| python_learning | python_learning_B0 | 15 | python basics tutorial; learn python from scratch; python syntax guide |

â†’ æ–¹å‘å†…çš„éœ€æ±‚åˆ†ç»„

---

## âœ… æµ‹è¯•å®Œæˆæ ‡å¿—

å…¨éƒ¨é€šè¿‡ä»¥ä¸‹æ£€æŸ¥ï¼Œå³æµ‹è¯•æˆåŠŸï¼š

- [ ] step_A3_clustering.pyè¿è¡ŒæˆåŠŸï¼Œç”Ÿæˆ2ä¸ªæ–‡ä»¶
- [ ] cluster_summary_A3.csvåŒ…å«example_phrasesåˆ—
- [ ] cluster_stats.pyæ˜¾ç¤ºç°‡æ•°é‡åˆç†ï¼ˆ60-100ï¼‰
- [ ] validation.pyé€šè¿‡Aé˜¶æ®µå­—æ®µéªŒè¯
- [ ] manual_direction_selector.pyæˆåŠŸç­›é€‰5-10ä¸ªæ–¹å‘
- [ ] step_B3_cluster_stageB.pyè¿è¡ŒæˆåŠŸï¼Œç”Ÿæˆ2ä¸ªæ–‡ä»¶
- [ ] cluster_summary_B3.csvæ˜¾ç¤ºæ–¹å‘å†…çš„å­ç°‡
- [ ] plot_clusters.pyç”ŸæˆHTMLå¯è§†åŒ–æ–‡ä»¶
- [ ] validation.pyé€šè¿‡Bé˜¶æ®µå­—æ®µéªŒè¯

---

## ğŸš€ å¼€å§‹æµ‹è¯•å§ï¼

```bash
cd "D:\xiangmu\è¯æ ¹èšç±»éœ€æ±‚æŒ–æ˜\scripts"
python step_A3_clustering.py
```

**æµ‹è¯•é¡ºåˆ©ï¼æœ‰é—®é¢˜éšæ—¶åé¦ˆã€‚** ğŸ‰
